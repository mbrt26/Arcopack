# Generated by Django 5.2 on 2025-04-25 13:36

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('configuracion', '0003_ubicacion'),
        ('inventario', '0003_tinta'),
        ('personal', '0001_initial'),
        ('produccion', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Doblado',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha', models.DateField(default=django.utils.timezone.now, verbose_name='Fecha')),
                ('hora_inicio', models.DateTimeField(verbose_name='Fecha y Hora Inicio')),
                ('hora_final', models.DateTimeField(verbose_name='Fecha y Hora Final')),
                ('cantidad_programada_kg', models.DecimalField(decimal_places=2, max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.01'))], verbose_name='Cantidad Programada (Kg)')),
                ('medida_doblado_cm', models.DecimalField(decimal_places=2, max_digits=8, validators=[django.core.validators.MinValueValidator(Decimal('0.01'))], verbose_name='Medida Doblado (cm)')),
                ('is_active', models.BooleanField(default=True, verbose_name='Activo')),
                ('creado_en', models.DateTimeField(auto_now_add=True)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
                ('actualizado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('creado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('maquina', models.ForeignKey(limit_choices_to={'tipo': 'DOBLADORA'}, on_delete=django.db.models.deletion.PROTECT, to='configuracion.maquina')),
                ('operario_principal', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='doblados_operados', to='personal.colaborador')),
                ('orden_produccion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='registros_doblado', to='produccion.ordenproduccion')),
            ],
            options={
                'verbose_name': 'Registro de Doblado',
                'verbose_name_plural': 'Registros de Doblado',
                'ordering': ['-fecha', '-hora_inicio'],
            },
        ),
        migrations.CreateModel(
            name='ParoDoblado',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('hora_inicio_paro', models.DateTimeField()),
                ('hora_final_paro', models.DateTimeField()),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('creado_en', models.DateTimeField(auto_now_add=True)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
                ('causa_paro', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='configuracion.causaparo')),
                ('creado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('doblado', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='paros_doblado', to='produccion.doblado')),
            ],
        ),
        migrations.CreateModel(
            name='Refilado',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha', models.DateField(default=django.utils.timezone.now, verbose_name='Fecha')),
                ('hora_inicio', models.DateTimeField(verbose_name='Fecha y Hora Inicio')),
                ('hora_final', models.DateTimeField(verbose_name='Fecha y Hora Final')),
                ('cantidad_programada_kg', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0'))], verbose_name='Cantidad Programada (Kg)')),
                ('pistas', models.PositiveIntegerField(validators=[django.core.validators.MinValueValidator(1)], verbose_name='Número de Pistas (Salidas)')),
                ('embobinado_salida', models.CharField(blank=True, max_length=80, verbose_name='Sentido Embobinado Salida')),
                ('peso_rollo_objetivo_kg', models.DecimalField(blank=True, decimal_places=2, max_digits=8, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0'))], verbose_name='Peso Objetivo por Bobina Salida (Kg)')),
                ('embalaje', models.CharField(blank=True, max_length=80, verbose_name='Tipo Embalaje Salida')),
                ('is_active', models.BooleanField(default=True, verbose_name='Activo')),
                ('creado_en', models.DateTimeField(auto_now_add=True)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
                ('actualizado_por', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('creado_por', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('maquina', models.ForeignKey(limit_choices_to={'tipo': 'REFILADORA'}, on_delete=django.db.models.deletion.PROTECT, to='configuracion.maquina')),
                ('operario_principal', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='refilados_operados', to='personal.colaborador')),
                ('orden_produccion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='registros_refilado', to='produccion.ordenproduccion')),
            ],
            options={
                'verbose_name': 'Registro de Refilado',
                'verbose_name_plural': 'Registros de Refilado',
                'ordering': ['-fecha', '-hora_inicio'],
            },
        ),
        migrations.CreateModel(
            name='ParoRefilado',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('hora_inicio_paro', models.DateTimeField()),
                ('hora_final_paro', models.DateTimeField()),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('creado_en', models.DateTimeField(auto_now_add=True)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
                ('causa_paro', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='configuracion.causaparo')),
                ('creado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('refilado', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='paros_refilado', to='produccion.refilado')),
            ],
            options={
                'verbose_name': 'Paro de Refilado',
                'verbose_name_plural': 'Paros de Refilado',
                'ordering': ['hora_inicio_paro'],
            },
        ),
        migrations.CreateModel(
            name='DesperdicioRefilado',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('kg_desperdicio', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(Decimal('0.0'))])),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('creado_en', models.DateTimeField(auto_now_add=True)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
                ('creado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('tipo_desperdicio', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='configuracion.tipodesperdicio')),
                ('refilado', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='desperdicios_refilado', to='produccion.refilado')),
            ],
            options={
                'verbose_name': 'Desperdicio de Refilado',
                'verbose_name_plural': 'Desperdicios de Refilado',
            },
        ),
        migrations.CreateModel(
            name='RegistroImpresion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha', models.DateField(default=django.utils.timezone.now, verbose_name='Fecha Registro')),
                ('hora_inicio', models.DateTimeField(verbose_name='Fecha y Hora Inicio')),
                ('hora_final', models.DateTimeField(verbose_name='Fecha y Hora Final')),
                ('repeticion_mm', models.DecimalField(decimal_places=2, max_digits=8, validators=[django.core.validators.MinValueValidator(Decimal('0.01'))], verbose_name='Repetición (mm)')),
                ('pistas', models.PositiveIntegerField(validators=[django.core.validators.MinValueValidator(1)], verbose_name='Número de Pistas')),
                ('usa_retal', models.BooleanField(default=False, verbose_name='¿Usa Retal?')),
                ('pistas_retal', models.PositiveIntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1)], verbose_name='Pistas en Retal')),
                ('embobinado', models.CharField(blank=True, max_length=80, verbose_name='Sentido Embobinado')),
                ('tipo_montaje', models.CharField(blank=True, max_length=80, verbose_name='Tipo de Montaje')),
                ('is_active', models.BooleanField(default=True, verbose_name='Activo')),
                ('creado_en', models.DateTimeField(auto_now_add=True)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
                ('actualizado_por', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('anilox', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='configuracion.rodilloanilox', verbose_name='Rodillo Anilox')),
                ('aprobado_por', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='impresiones_aprobadas', to='personal.colaborador', verbose_name='Aprobado Por')),
                ('creado_por', models.ForeignKey(blank=True, editable=False, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('maquina', models.ForeignKey(limit_choices_to={'tipo': 'IMPRESORA'}, on_delete=django.db.models.deletion.PROTECT, to='configuracion.maquina', verbose_name='Máquina Impresora')),
                ('operario_principal', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='impresiones_operadas', to='personal.colaborador', verbose_name='Operario Principal')),
                ('orden_produccion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='registros_impresion', to='produccion.ordenproduccion', verbose_name='Orden de Producción')),
                ('tipo_tinta_principal', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='+', to='inventario.tinta', verbose_name='Tipo Tinta Principal')),
            ],
            options={
                'verbose_name': 'Registro de Impresión',
                'verbose_name_plural': 'Registros de Impresión',
                'ordering': ['-fecha', '-hora_inicio'],
            },
        ),
        migrations.CreateModel(
            name='ParoImpresion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('hora_inicio_paro', models.DateTimeField()),
                ('hora_final_paro', models.DateTimeField()),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('creado_en', models.DateTimeField(auto_now_add=True)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
                ('causa_paro', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='configuracion.causaparo')),
                ('creado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('registro_impresion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='paros_impresion', to='produccion.registroimpresion')),
            ],
            options={
                'verbose_name': 'Paro de Impresión',
                'verbose_name_plural': 'Paros de Impresión',
                'ordering': ['hora_inicio_paro'],
            },
        ),
        migrations.CreateModel(
            name='DesperdicioImpresion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cantidad_kg', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(Decimal('0.0'))])),
                ('cantidad_metros', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0'))])),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('creado_en', models.DateTimeField(auto_now_add=True)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
                ('creado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('tipo_desperdicio', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='configuracion.tipodesperdicio')),
                ('registro_impresion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='desperdicios_impresion', to='produccion.registroimpresion')),
            ],
            options={
                'verbose_name': 'Desperdicio de Impresión',
                'verbose_name_plural': 'Desperdicios de Impresión',
            },
        ),
        migrations.CreateModel(
            name='ConsumoTintaImpresion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cantidad_kg', models.DecimalField(decimal_places=3, max_digits=8, validators=[django.core.validators.MinValueValidator(Decimal('0.001'))])),
                ('lote_tinta', models.CharField(blank=True, max_length=100, verbose_name='Lote Tinta Consumido')),
                ('is_active', models.BooleanField(default=True)),
                ('creado_en', models.DateTimeField(auto_now_add=True)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
                ('creado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('tinta', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='inventario.tinta')),
                ('registro_impresion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='consumo_tintas', to='produccion.registroimpresion')),
            ],
            options={
                'verbose_name': 'Consumo de Tinta (Impresión)',
                'verbose_name_plural': 'Consumos de Tinta (Impresión)',
            },
        ),
        migrations.CreateModel(
            name='Sellado',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha', models.DateField(default=django.utils.timezone.now, verbose_name='Fecha')),
                ('hora_inicio', models.DateTimeField(verbose_name='Fecha y Hora Inicio')),
                ('hora_final', models.DateTimeField(verbose_name='Fecha y Hora Final')),
                ('cantidad_programada_unidades', models.PositiveIntegerField(blank=True, null=True, verbose_name='Cantidad Programada (Unidades)')),
                ('ancho_mm', models.DecimalField(decimal_places=2, max_digits=8, validators=[django.core.validators.MinValueValidator(Decimal('0.01'))], verbose_name='Ancho Bolsa (mm)')),
                ('largo_mm', models.DecimalField(decimal_places=2, max_digits=8, validators=[django.core.validators.MinValueValidator(Decimal('0.01'))], verbose_name='Largo Bolsa (mm)')),
                ('is_active', models.BooleanField(default=True, verbose_name='Activo')),
                ('creado_en', models.DateTimeField(auto_now_add=True)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
                ('actualizado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('creado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('maquina', models.ForeignKey(limit_choices_to={'tipo': 'SELLADORA'}, on_delete=django.db.models.deletion.PROTECT, to='configuracion.maquina')),
                ('operario_principal', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='sellados_operados', to='personal.colaborador')),
                ('orden_produccion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='registros_sellado', to='produccion.ordenproduccion')),
            ],
            options={
                'verbose_name': 'Registro de Sellado',
                'verbose_name_plural': 'Registros de Sellado',
                'ordering': ['-fecha', '-hora_inicio'],
            },
        ),
        migrations.CreateModel(
            name='ParoSellado',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('hora_inicio_paro', models.DateTimeField()),
                ('hora_final_paro', models.DateTimeField()),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('creado_en', models.DateTimeField(auto_now_add=True)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
                ('causa_paro', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='configuracion.causaparo')),
                ('creado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('sellado', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='paros_sellado', to='produccion.sellado')),
            ],
            options={
                'verbose_name': 'Paro de Sellado',
                'verbose_name_plural': 'Paros de Sellado',
                'ordering': ['hora_inicio_paro'],
            },
        ),
        migrations.CreateModel(
            name='DesperdicioSellado',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('kg_desperdicio', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(Decimal('0.0'))])),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('creado_en', models.DateTimeField(auto_now_add=True)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
                ('creado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('tipo_desperdicio', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='configuracion.tipodesperdicio')),
                ('sellado', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='desperdicios_sellado', to='produccion.sellado')),
            ],
            options={
                'verbose_name': 'Desperdicio de Sellado',
                'verbose_name_plural': 'Desperdicios de Sellado',
            },
        ),
    ]
